<!DOCTYPE html>
<html>
<head>
    <title>Digital Rain Settings</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: #1a1a1a;
            color: #fff;
        }

        .container {
            max-width: 360px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: #0f0;
            margin-bottom: 30px;
            font-size: 24px;
        }

        .setting-group {
            margin-bottom: 25px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #0f0;
        }

        .slider-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        input[type="range"] {
            flex: 1;
            height: 4px;
            background: #333;
            outline: none;
            -webkit-appearance: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            background: #0f0;
            border-radius: 50%;
            cursor: pointer;
        }

        input[type="color"] {
            -webkit-appearance: none;
            width: 50px;
            height: 30px;
            border: none;
            border-radius: 4px;
            padding: 0;
            cursor: pointer;
        }

        .value-display {
            min-width: 40px;
            text-align: right;
            color: #0f0;
        }

        .preset-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 30px;
        }

        button {
            background: #333;
            border: 1px solid #0f0;
            color: #0f0;
            padding: 10px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        button:hover {
            background: #0f0;
            color: #000;
        }

        .keyboard-hint {
            text-align: center;
            margin-top: 20px;
            color: #666;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Digital Rain Settings</h1>
        
        <div class="setting-group">
            <label>Speed</label>
            <div class="slider-container">
                <input type="range" id="speed" min="0.1" max="2" step="0.1" value="1.0">
                <div class="value-display">1.0x</div>
            </div>
        </div>

        <div class="setting-group">
            <label>Color</label>
            <div class="slider-container">
                <input type="color" id="color" value="#00ff00">
            </div>
        </div>

        <div class="setting-group">
            <label>Density</label>
            <div class="slider-container">
                <input type="range" id="density" min="0.5" max="2" step="0.1" value="1.0">
                <div class="value-display">1.0x</div>
            </div>
        </div>

        <div class="setting-group">
            <label>Font Size</label>
            <div class="slider-container">
                <input type="range" id="fontSize" min="12" max="32" step="2" value="20">
                <div class="value-display">20px</div>
            </div>
        </div>

        <div class="setting-group">
            <label>Glow Intensity</label>
            <div class="slider-container">
                <input type="range" id="glowIntensity" min="0.5" max="2" step="0.1" value="1.0">
                <div class="value-display">1.0x</div>
            </div>
        </div>

        <div class="preset-buttons">
            <button id="classic">Classic Matrix</button>
            <button id="bright">Bright & Fast</button>
            <button id="subtle">Subtle & Slow</button>
            <button id="reset">Reset All</button>
        </div>

        <div class="keyboard-hint">
            Press 'S' to show/hide settings
        </div>
    </div>

    <script>
        const { ipcRenderer } = require('electron');
        
        // Get all input elements
        const inputs = {
            speed: document.getElementById('speed'),
            color: document.getElementById('color'),
            density: document.getElementById('density'),
            fontSize: document.getElementById('fontSize'),
            glowIntensity: document.getElementById('glowIntensity')
        };

        // Update value displays and send settings
        function updateSetting(id, value) {
            const display = inputs[id].parentElement.querySelector('.value-display');
            if (display) {
                display.textContent = id === 'fontSize' ? `${value}px` : `${value}x`;
            }
            
            ipcRenderer.send('settings-update', { [id]: value });
        }

        // Add event listeners to all inputs
        Object.entries(inputs).forEach(([id, input]) => {
            input.addEventListener('input', (e) => {
                updateSetting(id, e.target.value);
            });
        });

        // Preset configurations
        const presets = {
            classic: {
                speed: 1.0,
                color: '#00ff00',
                density: 1.0,
                fontSize: 20,
                glowIntensity: 1.0
            },
            bright: {
                speed: 1.5,
                color: '#00ff33',
                density: 1.5,
                fontSize: 24,
                glowIntensity: 1.8
            },
            subtle: {
                speed: 0.6,
                color: '#00cc00',
                density: 0.7,
                fontSize: 16,
                glowIntensity: 0.8
            }
        };

        // Apply preset
        function applyPreset(preset) {
            Object.entries(preset).forEach(([id, value]) => {
                inputs[id].value = value;
                updateSetting(id, value);
            });
        }

        // Add preset button listeners
        document.getElementById('classic').addEventListener('click', () => applyPreset(presets.classic));
        document.getElementById('bright').addEventListener('click', () => applyPreset(presets.bright));
        document.getElementById('subtle').addEventListener('click', () => applyPreset(presets.subtle));
        document.getElementById('reset').addEventListener('click', () => applyPreset(presets.classic));
    </script>
</body>
</html> 